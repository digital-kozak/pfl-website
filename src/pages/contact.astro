---
import Layout from '../layouts/Layout.astro';
import Breadcrumb from '../components/Breadcrumb.astro';
---

<Layout 
  title="Contact | Pagosa Forest Lodge" 
  description="Contact Pagosa Forest Lodge. Questions about booking? Call (970) 444-2290 or email info@pagosaforestlodge.com."
  breadcrumbs={[{ name: "Contact", url: "/contact" }]}
>
  
  <script>
    // Check for form submission success
    if (window.location.search.includes('submitted=true')) {
      document.addEventListener('DOMContentLoaded', function() {
        const successMsg = document.getElementById('success-message');
        const formContainer = document.getElementById('form-container');
        if (successMsg) successMsg.classList.remove('hidden');
        if (formContainer) formContainer.classList.add('hidden');
      });
    }
  </script>
  
  <!-- Hero -->
  <section class="relative py-24 hero-overlay">
    <div class="absolute inset-0 z-0">
      <img 
        src="/images/snowy-cabin.jpg" 
        alt="Contact Pagosa Forest Lodge" 
        class="w-full h-full object-cover"
      />
    </div>
    
    <div class="relative z-10 container-custom text-center text-white">
      <p class="text-sm uppercase tracking-[0.3em] mb-4">Get In Touch</p>
      <h1 class="font-serif text-5xl md:text-6xl mb-6">
        <span class="italic">Contact</span> Us
      </h1>
      <p class="text-lg text-white/90 max-w-2xl mx-auto">
        Have questions or need assistance? We'd love to hear from you!
      </p>
    </div>
  </section>

  <!-- Breadcrumb Navigation -->
  <Breadcrumb items={[{ name: "Contact", url: "/contact" }]} />

  <!-- Contact Section -->
  <section class="section-padding bg-[#faf9f6]">
    <div class="container-custom">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-16">
        <!-- Contact Form -->
        <div id="form-container">
          <p class="text-[#c9a227] text-sm uppercase tracking-[0.2em] mb-4">Send a Message</p>
          <h2 class="font-serif text-3xl md:text-4xl text-[#0f1f0a] mb-8">Get In Touch</h2>
          
          <!-- Success Message (hidden by default) -->
          <div id="success-message" class="hidden bg-green-50 border border-green-200 rounded-lg p-6 mb-8">
            <div class="flex items-start space-x-4">
              <div class="flex-shrink-0">
                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </div>
              <div>
                <h3 class="text-lg font-medium text-green-800 mb-2">Message Sent Successfully!</h3>
                <p class="text-green-700">Thank you for reaching out. We'll get back to you within 24 hours.</p>
              </div>
            </div>
          </div>
          
          <form class="space-y-6" action="https://formsubmit.co/info@pagosaforestlodge.com" method="POST">
            <!-- FormSubmit configuration -->
            <input type="hidden" name="_subject" value="New Contact Form Submission - PFL Website">
            <input type="hidden" name="_captcha" value="true">
            <input type="hidden" name="_template" value="table">
            <input type="hidden" name="_autoresponse" value="Thank you for contacting Pagosa Forest Lodge. We have received your message and will respond within 24 hours.">
            <input type="hidden" name="_next" value="https://pagosaforestlodge.com/contact?submitted=true">
            
            <!-- Honeypot field to prevent spam -->
            <input type="text" name="_honey" style="display:none">
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label for="firstName" class="block text-sm font-medium text-[#0f1f0a] mb-2">First Name</label>
                <input 
                  type="text" 
                  id="firstName" 
                  name="firstName" 
                  required
                  class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-[#c9a227] transition-colors"
                  placeholder="John"
                />
              </div>
              
              <div>
                <label for="lastName" class="block text-sm font-medium text-[#0f1f0a] mb-2">Last Name</label>
                <input 
                  type="text" 
                  id="lastName" 
                  name="lastName" 
                  required
                  class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-[#c9a227] transition-colors"
                  placeholder="Doe"
                />
              </div>
            </div>
            
            <div>
              <label for="email" class="block text-sm font-medium text-[#0f1f0a] mb-2">Email Address</label>
              <input 
                type="email" 
                id="email" 
                name="email" 
                required
                class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-[#c9a227] transition-colors"
                placeholder="john@example.com"
              />
            </div>
            
            <div>
              <label for="phone" class="block text-sm font-medium text-[#0f1f0a] mb-2">Phone Number (Optional)</label>
              <input 
                type="tel" 
                id="phone" 
                name="phone"
                class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-[#c9a227] transition-colors"
                placeholder="(970) 444-2290"
              />
            </div>
            
            <div>
              <label for="subject" class="block text-sm font-medium text-[#0f1f0a] mb-2">Subject</label>
              <select 
                id="subject" 
                name="subject" 
                required
                class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-[#c9a227] transition-colors bg-white"
              >
                <option value="">Select a subject</option>
                <option value="Booking Inquiry">Booking Inquiry</option>
                <option value="Check Availability">Check Availability</option>
                <option value="General Questions">General Questions</option>
                <option value="Special Requests">Special Requests</option>
                <option value="Feedback">Feedback</option>
                <option value="Other">Other</option>
              </select>
            </div>
            
            <div>
              <label for="message" class="block text-sm font-medium text-[#0f1f0a] mb-2">Message</label>
              <textarea 
                id="message" 
                name="message" 
                rows="5" 
                required
                class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-[#c9a227] transition-colors resize-none"
                placeholder="How can we help you?"
              ></textarea>
            </div>
            
            <button 
              type="submit" 
              class="btn-primary w-full md:w-auto"
            >
              Send Message
            </button>
          </form>
        </div>

        <!-- Contact Info -->
        <div>
          <p class="text-[#c9a227] text-sm uppercase tracking-[0.2em] mb-4">Contact Information</p>
          <h2 class="font-serif text-3xl md:text-4xl text-[#0f1f0a] mb-8">Reach Out</h2>
          
          <div class="space-y-6 mb-12">
            <div class="flex items-start space-x-4">
              <div class="w-12 h-12 rounded-full bg-[#c9a227]/10 flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 text-[#c9a227]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                </svg>
              </div>
              <div>
                <h4 class="font-serif text-lg text-[#0f1f0a] mb-1">Address</h4>
                <p class="text-gray-600">14317 W US Hwy 160<br>Pagosa Springs, CO 81147</p>
              </div>
            </div>
            
            <div class="flex items-start space-x-4">
              <div class="w-12 h-12 rounded-full bg-[#c9a227]/10 flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 text-[#c9a227]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                </svg>
              </div>
              <div>
                <h4 class="font-serif text-lg text-[#0f1f0a] mb-1">Phone</h4>
                <p class="text-gray-600"><a href="tel:+19704442290" class="hover:text-[#c9a227] transition-colors">(970) 444-2290</a></p>
              </div>
            </div>
            
            <div class="flex items-start space-x-4">
              <div class="w-12 h-12 rounded-full bg-[#c9a227]/10 flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 text-[#c9a227]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                </svg>
              </div>
              <div>
                <h4 class="font-serif text-lg text-[#0f1f0a] mb-1">Email</h4>
                <p class="text-gray-600"><a href="mailto:info@pagosaforestlodge.com" class="hover:text-[#c9a227] transition-colors">info@pagosaforestlodge.com</a></p>
              </div>
            </div>
          </div>

          <!-- Social Links -->
          <div class="mb-12">
            <h4 class="font-serif text-lg text-[#0f1f0a] mb-4">Follow Us</h4>
            <div class="flex space-x-4">
              <a href="#" class="w-12 h-12 rounded-full bg-[#0f1f0a] flex items-center justify-center text-white hover:bg-[#c9a227] transition-colors">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
              </a>
              <a href="#" class="w-12 h-12 rounded-full bg-[#0f1f0a] flex items-center justify-center text-white hover:bg-[#c9a227] transition-colors">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.468 2.373c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z"/></svg>
              </a>
            </div>
          </div>

          <!-- Map -->
          <div>
            <h4 class="font-serif text-lg text-[#0f1f0a] mb-4">Find Us</h4>
            <div class="aspect-video rounded-lg overflow-hidden">
              <iframe
                src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d12294.527793748058!2d-106.9648!3d37.2694!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x873c0b9c2f4c4c4b%3A0x4c4c4c4c4c4c4c4c!2sPagosa%20Forest%20Lodge!5e0!3m2!1sen!2sus!4v1704067200000!5m2!1sen!2sus"
                width="100%"
                height="100%"
                style="border:0;"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
                title="Pagosa Forest Lodge Location"
              ></iframe>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="section-padding bg-white">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto">
        <div class="text-center mb-12">
          <p class="text-[#c9a227] text-sm uppercase tracking-[0.2em] mb-4">FAQ</p>
          <h2 class="font-serif text-3xl md:text-4xl text-[#0f1f0a]">Frequently Asked Questions</h2>
        </div>

        <div class="space-y-4">
          <div class="border border-gray-200 rounded-lg overflow-hidden">
            <button class="faq-toggle w-full flex items-center justify-between p-6 text-left bg-[#faf9f6] hover:bg-gray-100 transition-colors">
              <span class="font-medium text-[#0f1f0a]">What is your cancellation policy?</span>
              <svg class="w-5 h-5 text-[#c9a227] faq-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>
            <div class="faq-content hidden p-6 pt-0 border-t border-gray-200">
              <p class="text-gray-600">We offer free cancellation up to 30 days before your arrival date. Cancellations made 14-30 days before arrival receive a 50% refund. Cancellations within 14 days are non-refundable, but we can offer a credit for a future stay.</p>
            </div>
          </div>

          <div class="border border-gray-200 rounded-lg overflow-hidden">
            <button class="faq-toggle w-full flex items-center justify-between p-6 text-left bg-[#faf9f6] hover:bg-gray-100 transition-colors">
              <span class="font-medium text-[#0f1f0a]">Is the cabin pet-friendly?</span>
              <svg class="w-5 h-5 text-[#c9a227] faq-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>
            <div class="faq-content hidden p-6 pt-0 border-t border-gray-200">
              <p class="text-gray-600">We allow well-behaved dogs on a case-by-case basis with prior approval and a pet fee. Please contact us before booking if you'd like to bring your furry friend. Please note that pets are not allowed on furniture or beds.</p>
            </div>
          </div>

          <div class="border border-gray-200 rounded-lg overflow-hidden">
            <button class="faq-toggle w-full flex items-center justify-between p-6 text-left bg-[#faf9f6] hover:bg-gray-100 transition-colors">
              <span class="font-medium text-[#0f1f0a]">Do I need a 4WD vehicle to reach the cabin?</span>
              <svg class="w-5 h-5 text-[#c9a227] faq-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>
            <div class="faq-content hidden p-6 pt-0 border-t border-gray-200">
              <p class="text-gray-600">Our driveway is a gravel road. While the cabin is accessible year-round, we strongly recommend all-wheel drive or 4WD vehicles during heavy snow and ice conditions (typically November through April) for safety and peace of mind.</p>
            </div>
          </div>

          <div class="border border-gray-200 rounded-lg overflow-hidden">
            <button class="faq-toggle w-full flex items-center justify-between p-6 text-left bg-[#faf9f6] hover:bg-gray-100 transition-colors">
              <span class="font-medium text-[#0f1f0a]">What should I bring?</span>
              <svg class="w-5 h-5 text-[#c9a227] faq-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>
            <div class="faq-content hidden p-6 pt-0 border-t border-gray-200">
              <p class="text-gray-600">We provide all linens, towels, toiletries, and kitchen essentials. You'll want to bring groceries, personal items, and outdoor gear if you plan on skiing, hiking, or fishing. We recommend bringing layers as mountain weather can change quickly!</p>
            </div>
          </div>

          <div class="border border-gray-200 rounded-lg overflow-hidden">
            <button class="faq-toggle w-full flex items-center justify-between p-6 text-left bg-[#faf9f6] hover:bg-gray-100 transition-colors">
              <span class="font-medium text-[#0f1f0a]">Is there cell service and WiFi?</span>
              <svg class="w-5 h-5 text-[#c9a227] faq-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>
            <div class="faq-content hidden p-6 pt-0 border-t border-gray-200">
              <p class="text-gray-600">Yes! We have high-speed Starlink internet and WiFi throughout the cabin. Cell service varies by carrier - Verizon and AT&T generally work well, while other carriers may have spotty coverage. We recommend downloading offline maps before your arrival.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    // FAQ Toggle functionality
    document.querySelectorAll('.faq-toggle').forEach(button => {
      button.addEventListener('click', () => {
        const content = button.nextElementSibling;
        const icon = button.querySelector('.faq-icon');
        
        content.classList.toggle('hidden');
        icon.style.transform = content.classList.contains('hidden') ? 'rotate(0deg)' : 'rotate(180deg)';
      });
    });
  </script>
</Layout>
